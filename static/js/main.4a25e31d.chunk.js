(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={filterWrapper:"Filter_filterWrapper__3HPo4",filter:"Filter_filter__3gBpM",enter:"Filter_enter__21swt",enterActive:"Filter_enterActive__2_4Xc",exit:"Filter_exit__3acgt",exitActive:"Filter_exitActive__1pn0h"}},22:function(t,e,n){t.exports={contactsList:"ContactsList_contactsList__3SdCK",contactsListItem:"ContactsList_contactsListItem__1Bgy5",enter:"ContactsList_enter__YETHd",enterActive:"ContactsList_enterActive__3IPnm",exit:"ContactsList_exit___AykO",exitActive:"ContactsList_exitActive__3Emfi"}},23:function(t,e,n){t.exports={sectionTitle:"App_sectionTitle__12DjZ",appear:"App_appear__1NPbb",appearActive:"App_appearActive__2IVoC"}},24:function(t,e,n){t.exports={alert:"Alert_alert__1-Y0V",enter:"Alert_enter__nFTcW",enterActive:"Alert_enterActive__3dL9j",exit:"Alert_exit__3-E5i",exitActive:"Alert_exitActive__1w_UF"}},34:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__3YNlq"}},36:function(t,e,n){t.exports={contactsListItem:"ContactsListItems_contactsListItem__3QaAm"}},41:function(t,e,n){t.exports=n(69)},46:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),i=(n(46),n(8)),s=n(9),u=n(12),l=n(11),C=n(7),_=n(15),E=n(34),p=n.n(E),m=n(1),f={ADD:"contacts/add",DELETE:"contacts/delete",FILTER:"contacts/filter",ALERT:"contacts/alert",ADD_CONTACT_REQUEST:"contacts/addContactsRequest",ADD_CONTACT_SUCCESS:"contacts/addContactsSuccess",ADD_CONTACT_ERROR:"contacts/addContactsError",FETCH_CONTACT_REQUEST:"contacts/fetchContactsRequest",FETCH_CONTACT_SUCCESS:"contacts/fetchContactsSuccess",FETCH_CONTACT_ERROR:"contacts/fetchContactsError",REMOVE_CONTACT_REQUEST:"contacts/removeContactRequest",REMOVE_CONTACT_SUCCESS:"contacts/removeContactSuccess",REMOVE_CONTACT_ERROR:"contacts/removeContactError"},T=function(t){return{type:f.FILTER,payload:{filter:t}}},O=function(){return{type:f.ALERT}},d=function(){return{type:f.ADD_CONTACT_REQUEST}},A=function(t){return{type:f.ADD_CONTACT_SUCCESS,payload:Object(C.a)({},t)}},h=function(t){return{type:f.ADD_CONTACT_ERROR,payload:{error:t}}},R=function(){return{type:f.FETCH_CONTACT_REQUEST}},b=function(t){return{type:f.FETCH_CONTACT_SUCCESS,payload:t}},v=function(t){return{type:f.FETCH_CONTACT_ERROR,payload:{error:t}}},S=function(){return{type:f.REMOVE_CONTACT_REQUEST}},y=function(t){return{type:f.REMOVE_CONTACT_SUCCESS,payload:t}},N=function(t){return{type:f.REMOVE_CONTACT_ERROR,payload:{error:t}}},g=n(16),F=n.n(g),j=function(t){return function(e){e(d()),F.a.post("https://hwasync-redux-bc22.firebaseio.com/contacts.json",t).then((function(t){e(A(Object(C.a)({id:t.data.name},JSON.parse(t.config.data))))})).catch((function(t){e(h(t))}))}},D=function(){return function(t){t(R()),F.a.get("https://hwasync-redux-bc22.firebaseio.com/contacts.json").then((function(e){for(var n=[],a=0,c=Object.keys(e.data);a<c.length;a++){var r=c[a],o=Object(C.a)({id:r},e.data[r]);n.push(o)}t(b(n))})).catch((function(e){t(v(e))}))}},x=function(t){return function(e){e(S()),F.a.delete("https://hwasync-redux-bc22.firebaseio.com/contacts/".concat(t,".json")).then((function(){e(y(t))})).catch((function(t){e(N(t))}))}},L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(_.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state.name;if(console.log("!!",t.props),t.props.items.find((function(t){return t.name.toLowerCase()===n.toLowerCase()})))return t.props.onChangeAlert(),void setTimeout((function(){return t.props.onChangeAlert()}),1500);t.props.onAddContact(Object(C.a)({},t.state)),t.setState({name:"",number:""})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:p.a.contactForm},c.a.createElement("label",null,"Name",c.a.createElement("input",{type:"text",name:"name",value:e,onChange:this.handleChange})),c.a.createElement("label",null,"Number",c.a.createElement("input",{type:"text",name:"number",value:n,onChange:this.handleChange})),c.a.createElement("button",{type:"submit"},"Add contact"))}}]),n}(a.Component),U=Object(m.b)((function(t){return{items:t.contacts.items,alert:t.contacts.alert}}),(function(t){return{onAddContact:function(e){return t(j(e))},onChangeAlert:function(){return t(O())}}}))(L),w=n(71),M=n(70),H=n(22),V=n.n(H),k=n(36),I=n.n(k);var Q=Object(m.b)(null,(function(t){return{onRemoveContact:function(e){return t(x(e))}}}))((function(t){var e=t.contact,n=t.onRemoveContact;return c.a.createElement("li",{className:I.a.ContactsListItem},e.name,": ",e.number,c.a.createElement("button",{type:"button",id:e.id,onClick:function(t){n(t.target.id)}},"Delete"))})),W=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{component:"ul",className:V.a.contactsList},this.props.contacts.map((function(e){return c.a.createElement(M.a,{key:e.id,in:t.props.contacts.length>0,timeout:250,classNames:V.a},c.a.createElement(Q,{contact:e}))}))))}}]),n}(a.Component),q=Object(m.b)((function(t){return{contacts:t.contacts.filter?t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())})):t.contacts.items}}))(W),P=n(17),B=n.n(P),J=Object(m.b)((function(t){return{filter:t.contacts.filter}}),(function(t){return{getFilter:function(e){return t(T(e))}}}))((function(t){var e=t.filter,n=t.getFilter;return c.a.createElement("div",{className:B.a.filterWrapper},c.a.createElement(M.a,{in:!0,timeout:1e3,classNames:B.a},c.a.createElement("label",{className:B.a.filter},"Find contacts by name",c.a.createElement("input",{type:"text",name:"filter",value:e,onChange:function(t){n(t.target.value)}}))))})),Y=n(23),G=n.n(Y),K=n(24),X=n.n(K);var Z=Object(m.b)((function(t){return{alert:t.contacts.alert}}))((function(t){var e=t.alert;return c.a.createElement(M.a,{in:e,classNames:X.a,timeout:250,unmountOnExit:!0},c.a.createElement("p",{className:X.a.alert},"The name is already exist"))})),z=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContact()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.loading&&c.a.createElement("h2",null,"LOADING ..."),c.a.createElement(Z,{alert:alert}),c.a.createElement(M.a,{in:!0,timeout:500,classNames:G.a,appear:!0,unmountOnExit:!0},c.a.createElement("p",{className:G.a.sectionTitle}," Phonebook ")),c.a.createElement(U,null),this.props.items.length>1&&c.a.createElement(J,null),!this.props.error&&c.a.createElement(q,null),this.props.error&&c.a.createElement("h2",null,"ERROR ..."))}}]),n}(a.Component),$=Object(m.b)((function(t){return{items:t.contacts.items,loading:t.contacts.loading,error:t.contacts.error}}),(function(t){return{onChangeFilter:function(e){return t(T(e))},onFetchContact:function(){return t(D())}}}))(z),tt=n(5),et=n(37),nt=n(39),at=Object(tt.combineReducers)({items:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.ADD_CONTACT_SUCCESS:return[].concat(Object(nt.a)(t),[e.payload]);case f.FETCH_CONTACT_SUCCESS:return e.payload;case f.REMOVE_CONTACT_SUCCESS:return t.filter((function(t){return t.id!==e.payload}));default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.FILTER:return e.payload.filter;default:return t}},alert:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.ALERT:return!t;default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.ADD_CONTACT_REQUEST:case f.FETCH_CONTACT_REQUEST:case f.REMOVE_CONTACT_REQUEST:return!0;case f.ADD_CONTACT_SUCCESS:case f.ADD_CONTACT_ERROR:case f.FETCH_CONTACT_SUCCESS:case f.FETCH_CONTACT_ERROR:case f.REMOVE_CONTACT_SUCCESS:case f.REMOVE_CONTACT_ERROR:return!1;default:return t}},error:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f.ADD_CONTACT_ERROR:case f.FETCH_CONTACT_ERROR:case f.REMOVE_CONTACT_ERROR:return e.payload;case f.ADD_CONTACT_REQUEST:case f.FETCH_CONTACT_REQUEST:case f.REMOVE_CONTACT_REQUEST:return null;default:return t}}}),ct=n(38),rt=Object(tt.combineReducers)({contacts:at}),ot=[ct.a],it=Object(tt.createStore)(rt,Object(et.composeWithDevTools)(tt.applyMiddleware.apply(void 0,ot)));o.a.render(c.a.createElement(m.a,{store:it},c.a.createElement($,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.4a25e31d.chunk.js.map